"use strict";(globalThis.webpackChunkrituals_app_docs=globalThis.webpackChunkrituals_app_docs||[]).push([[205],{3855:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"mobile/architecture","title":"Architecture","description":"The mobile application is built using Flutter and follows a Feature-First architecture with Riverpod for state management. This approach ensures scalability by grouping code by domain (what it does) rather than layer (what it is).","source":"@site/docs/mobile/architecture.md","sourceDirName":"mobile","slug":"/mobile/architecture","permalink":"/rituals_app_clean/docs/mobile/architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Setup & Installation","permalink":"/rituals_app_clean/docs/mobile/setup"},"next":{"title":"User Flows","permalink":"/rituals_app_clean/docs/mobile/user-flows"}}');var r=i(4848),s=i(8453),a=i(3369);const l={sidebar_position:2},o="Architecture",d={},c=[{value:"High-Level Overview",id:"high-level-overview",level:2},{value:"Folder Structure Strategy",id:"folder-structure-strategy",level:2},{value:"Dependency Injection &amp; State Management",id:"dependency-injection--state-management",level:2},{value:"Key Concepts",id:"key-concepts",level:3},{value:"Navigation (GoRouter)",id:"navigation-gorouter",level:2},{value:"Tech Stack Summary",id:"tech-stack-summary",level:2}];function h(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,r.jsxs)(t.p,{children:["The mobile application is built using ",(0,r.jsx)(t.strong,{children:"Flutter"})," and follows a ",(0,r.jsx)(t.strong,{children:"Feature-First"})," architecture with ",(0,r.jsx)(t.strong,{children:"Riverpod"})," for state management. This approach ensures scalability by grouping code by ",(0,r.jsx)(t.em,{children:"domain"})," (what it does) rather than ",(0,r.jsx)(t.em,{children:"layer"})," (what it is)."]}),"\n",(0,r.jsx)(t.h2,{id:"high-level-overview",children:"High-Level Overview"}),"\n",(0,r.jsx)(t.p,{children:"The app follows a unidirectional data flow pattern, typical of modern declarative UI frameworks."}),"\n",(0,r.jsx)(a.A,{definition:'\nflowchart TD\n  subgraph UI ["Presentation Layer"]\n      Screen["Screens / Pages"]\n      Widget["Reusable Widgets"]\n  end\n\n  subgraph State ["Application State"]\n      Controller["Riverpod Notifiers"]\n      StateObj["Immutable State Objects"]\n  end\n\n  subgraph Data ["Data Layer"]\n      Repo["Repositories"]\n      Model["Data Models"]\n  end\n\n  subgraph External ["Infrastructure"]\n      API["REST API (Dio)"]\n      Local["Secure Storage / Hive"]\n      Firebase["Firebase Services"]\n  end\n\n  Screen --\x3e|Reads/Watches| Controller\n  Screen --\x3e|User Actions| Controller\n  Controller --\x3e|Updates| StateObj\n  Controller --\x3e|Calls| Repo\n  Repo --\x3e|Fetches| API\n  Repo --\x3e|Caches| Local\n  \n  style UI fill:#e1f5fe,stroke:#01579b\n  style State fill:#fff9c4,stroke:#fbc02d\n  style Data fill:#e8f5e9,stroke:#2e7d32\n  style External fill:#f3e5f5,stroke:#7b1fa2\n'}),"\n",(0,r.jsx)(t.h2,{id:"folder-structure-strategy",children:"Folder Structure Strategy"}),"\n",(0,r.jsxs)(t.p,{children:["We organize code primarily by ",(0,r.jsx)(t.strong,{children:"Feature"}),". Each feature folder is a self-contained module containing its own UI, logic, and data handling."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-text",children:"lib/\r\n\u251c\u2500\u2500 config/         # App-wide configuration (Env, Constants, Theme)\r\n\u251c\u2500\u2500 core/           # Shared utilities, extensions, and exceptions\r\n\u251c\u2500\u2500 data/           # Global data definitions (if shared across many features)\r\n\u251c\u2500\u2500 features/       # \ud83d\udce6 FEATURE MODULES\r\n\u2502   \u251c\u2500\u2500 auth/       \r\n\u2502   \u251c\u2500\u2500 home/       \r\n\u2502   \u251c\u2500\u2500 rituals/    # Example Feature\r\n\u2502   \u2502   \u251c\u2500\u2500 presentation/   # UI: Screens & Widgets\r\n\u2502   \u2502   \u251c\u2500\u2500 application/    # Logic: Providers & Notifiers\r\n\u2502   \u2502   \u251c\u2500\u2500 domain/         # Models & Entities\r\n\u2502   \u2502   \u251c\u2500\u2500 data/           # Repositories & DTOs\r\n\u2502   \u2514\u2500\u2500 profile/    \r\n\u251c\u2500\u2500 routes/         # Navigation configuration (GoRouter)\r\n\u251c\u2500\u2500 services/       # External services (API, Local Storage, Notifications)\r\n\u2514\u2500\u2500 main.dart       # App entry point\n"})}),"\n",(0,r.jsx)(t.h2,{id:"dependency-injection--state-management",children:"Dependency Injection & State Management"}),"\n",(0,r.jsxs)(t.p,{children:["We use ",(0,r.jsx)(t.strong,{children:"Riverpod"})," (",(0,r.jsx)(t.code,{children:"flutter_riverpod"}),") for both DI and State Management."]}),"\n",(0,r.jsx)(a.A,{definition:'\nclassDiagram\n  class ApiService {\n      +Dio dio\n      +get()\n      +post()\n  }\n  \n  class RitualRepository {\n      +ApiService api\n      +getRituals()\n      +createRitual()\n  }\n  \n  class RitualListNotifier {\n      +RitualRepository repo\n      +state: AsyncValue<List<Ritual>>\n      +loadRituals()\n      +addRitual()\n  }\n  \n  class RitualListScreen {\n      +Widget build(ref)\n  }\n\n  RitualRepository ..> ApiService : Uses\n  RitualListNotifier ..> RitualRepository : Uses\n  RitualListScreen ..> RitualListNotifier : Watches\n  \n  note for RitualListNotifier "Provider: ritualListProvider"\n  note for ApiService "Provider: apiServiceProvider"\n'}),"\n",(0,r.jsx)(t.h3,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Providers:"})," The glue that holds the app together. Declared globally but used locally."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"AsyncValue:"})," Used to handle loading, error, and data states safely in the UI."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Immutability:"})," All state classes are immutable (using ",(0,r.jsx)(t.code,{children:"freezed"})," is recommended)."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"navigation-gorouter",children:"Navigation (GoRouter)"}),"\n",(0,r.jsxs)(t.p,{children:["Navigation is handled by ",(0,r.jsx)(t.code,{children:"go_router"}),". It provides a URL-based navigation system which is essential for deep linking."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Routes:"})," Defined in ",(0,r.jsx)(t.code,{children:"lib/routes/app_router.dart"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Guards:"})," We use ",(0,r.jsx)(t.code,{children:"redirect"})," logic to protect routes (e.g., redirecting unauthenticated users to ",(0,r.jsx)(t.code,{children:"/login"}),")."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"tech-stack-summary",children:"Tech Stack Summary"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Category"}),(0,r.jsx)(t.th,{children:"Package"}),(0,r.jsx)(t.th,{children:"Purpose"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Framework"})}),(0,r.jsx)(t.td,{children:"Flutter"}),(0,r.jsx)(t.td,{children:"UI Toolkit"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"State Mgt"})}),(0,r.jsx)(t.td,{children:"flutter_riverpod"}),(0,r.jsx)(t.td,{children:"State & DI"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Networking"})}),(0,r.jsx)(t.td,{children:"dio"}),(0,r.jsx)(t.td,{children:"HTTP Client"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Navigation"})}),(0,r.jsx)(t.td,{children:"go_router"}),(0,r.jsx)(t.td,{children:"Routing & Deep Links"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Local Data"})}),(0,r.jsx)(t.td,{children:"shared_preferences"}),(0,r.jsx)(t.td,{children:"Simple key-value storage"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Notifications"})}),(0,r.jsx)(t.td,{children:"flutter_local_notifications"}),(0,r.jsx)(t.td,{children:"Local scheduling"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Push Notif"})}),(0,r.jsx)(t.td,{children:"firebase_messaging"}),(0,r.jsx)(t.td,{children:"Remote push notifications"})]})]})]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);