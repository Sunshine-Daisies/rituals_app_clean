"use strict";(globalThis.webpackChunkrituals_app_docs=globalThis.webpackChunkrituals_app_docs||[]).push([[9748],{2123:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"mobile/user-flows","title":"User Flows","description":"This document outlines the primary user journeys within the Rituals App.","source":"@site/docs/mobile/user-flows.mdx","sourceDirName":"mobile","slug":"/mobile/user-flows","permalink":"/rituals_app_clean/docs/mobile/user-flows","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/rituals_app_clean/docs/mobile/architecture"},"next":{"title":"Authentication","permalink":"/rituals_app_clean/docs/features/authentication"}}');var s=i(4848),r=i(8453),a=i(3369);const o={sidebar_position:3},l="User Flows",c={},p=[{value:"1. Onboarding &amp; Authentication",id:"1-onboarding--authentication",level:2},{value:"2. Core Loop (Daily Check-in)",id:"2-core-loop-daily-check-in",level:2},{value:"3. Ritual Creation Flow",id:"3-ritual-creation-flow",level:2},{value:"4. Social Connection Flow",id:"4-social-connection-flow",level:2},{value:"5. Partnership Invitation Flow",id:"5-partnership-invitation-flow",level:2},{value:"6. AI Assistant Pipeline",id:"6-ai-assistant-pipeline",level:2}];function d(e){const n={h1:"h1",h2:"h2",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"user-flows",children:"User Flows"})}),"\n",(0,s.jsx)(n.p,{children:"This document outlines the primary user journeys within the Rituals App."}),"\n",(0,s.jsx)(n.h2,{id:"1-onboarding--authentication",children:"1. Onboarding & Authentication"}),"\n",(0,s.jsx)(n.p,{children:"The flow for a new or returning user accessing the application."}),"\n",(0,s.jsx)(a.A,{definition:"\nflowchart LR\n  Start((App Launch)) --\x3e Splash{Has Token?}\n  \n  Splash --\x3e|No| LoginScreen[Login Screen]\n  Splash --\x3e|Yes| VerifyToken{Verify Token}\n  \n  LoginScreen --\x3e|Sign Up| Register[Register Screen]\n  LoginScreen --\x3e|Sign In| AuthAPI[API: /login]\n  \n  Register --\x3e|Success| AuthAPI\n  \n  AuthAPI --\x3e|Success| SaveToken[Secure Storage]\n  SaveToken --\x3e FetchProfile[Fetch User Profile]\n  \n  VerifyToken --\x3e|Valid| FetchProfile\n  VerifyToken --\x3e|Invalid| LoginScreen\n  \n  FetchProfile --\x3e Home[Dashboard]\n"}),"\n",(0,s.jsx)(n.h2,{id:"2-core-loop-daily-check-in",children:"2. Core Loop (Daily Check-in)"}),"\n",(0,s.jsx)(n.p,{children:"The primary action a user performs daily: completing a ritual."}),"\n",(0,s.jsx)(a.A,{definition:"\nflowchart TD\n  %% Nodes\n  User([User])\n  Action[Taps Checkbox]\n  Feedback[App: Haptic & Animation]\n  API[API: Complete Ritual]\n  DB[(Database Update)]\n  CheckLevel{Level Up?}\n  Reward1[Show: +10 XP Toast]\n  Reward2[Show: Level Up Dialog!]\n\n  %% Flow\n  User --\x3e Action\n  Action --\x3e Feedback\n  Feedback --\x3e API\n  API --\x3e DB\n  DB --\x3e CheckLevel\n  \n  CheckLevel --\x3e|No| Reward1\n  CheckLevel --\x3e|Yes| Reward2\n  \n  %% Styling\n  style User fill:#f9f,stroke:#333,stroke-width:2px\n  style DB fill:#bbf,stroke:#333,stroke-width:2px\n  style CheckLevel fill:#ff9,stroke:#333,stroke-width:2px\n"}),"\n",(0,s.jsx)(n.h2,{id:"3-ritual-creation-flow",children:"3. Ritual Creation Flow"}),"\n",(0,s.jsx)(n.p,{children:"The process of setting up a new habit."}),"\n",(0,s.jsx)(a.A,{definition:"\nflowchart LR\n  Start((Start)) --\x3e Fab[Tap '+']\n  \n  subgraph Wizard [Creation Wizard]\n      direction LR\n      Step1[1. Basic Info] --\x3e Step2[2. Frequency]\n      Step2 --\x3e Step3[3. Reminder]\n      Step3 --\x3e Step4[4. Styling]\n  end\n  \n  Fab --\x3e Step1\n  Step4 --\x3e Review[Review & Save]\n  Review --\x3e API[API: Create Ritual]\n  API --\x3e Success((Done))\n\n  %% Styling\n  style Wizard fill:#f5f5f5,stroke:#333,stroke-dasharray: 5 5\n  style Success fill:#9f9,stroke:#333,stroke-width:2px\n"}),"\n",(0,s.jsx)(n.h2,{id:"4-social-connection-flow",children:"4. Social Connection Flow"}),"\n",(0,s.jsx)(n.p,{children:"How users find and connect with friends."}),"\n",(0,s.jsx)(a.A,{definition:'\nsequenceDiagram\n  actor UserA as Requester\n  participant App\n  participant API\n  participant DB\n  actor UserB as Addressee\n\n  UserA->>App: Search "UserB"\n  App->>API: GET /users/search\n  API--\x3e>App: Returns User List\n  \n  UserA->>App: Tap "Add Friend"\n  App->>API: POST /friends/request\n  API->>DB: Create Friendship (Pending)\n  API->>UserB: Send Push Notification\n  \n  UserB->>App: Opens Notification\n  App->>UserB: Show Request\n  UserB->>App: Tap "Accept"\n  App->>API: PUT /friends/accept\n  API->>DB: Update Status to \'Accepted\'\n  API->>DB: Award XP (Social Bonus)\n  \n  API--\x3e>UserA: Notify "Request Accepted"\n'}),"\n",(0,s.jsx)(n.h2,{id:"5-partnership-invitation-flow",children:"5. Partnership Invitation Flow"}),"\n",(0,s.jsx)(n.p,{children:"Sharing a ritual to track it together."}),"\n",(0,s.jsx)(a.A,{definition:"\nflowchart TD\n  UserA([User A]) --\x3e|Selects Ritual| Detail[Ritual Detail]\n  Detail --\x3e|Taps Share| ShareSheet[Share Dialog]\n  ShareSheet --\x3e|Selects Friend| API_Invite[API: Create Invite]\n  \n  API_Invite --\x3e|Generates| Code[Invite Code / Link]\n  Code --\x3e|Sent via Chat| UserB([User B])\n  \n  UserB --\x3e|Clicks Link| AppB[Opens App]\n  AppB --\x3e|Validates| API_Join[API: Join Partnership]\n  \n  API_Join --\x3e DB[(Create Partnership Record)]\n  DB --\x3e Success{Success}\n  \n  Success --\x3e|Notify A| NotifA[User A: 'B joined!']\n  Success --\x3e|Notify B| NotifB[User B: Ritual Added]\n  \n  style Code fill:#ff9,stroke:#333\n  style DB fill:#bbf,stroke:#333\n"}),"\n",(0,s.jsx)(n.h2,{id:"6-ai-assistant-pipeline",children:"6. AI Assistant Pipeline"}),"\n",(0,s.jsx)(n.p,{children:"The secure flow of interacting with the AI Coach."}),"\n",(0,s.jsx)(a.A,{definition:"\nflowchart LR\n  User([User]) --\x3e|Message| ClientSecurity[LlmSecurityService]\n  \n  ClientSecurity --\x3e|Contains Forbidden Word?| Block[Block Request]\n  ClientSecurity --\x3e|Safe| Backend[Backend API]\n  \n  Backend --\x3e|Rate Limit Check| Rate{Allowed?}\n  Rate --\x3e|No| Error[429 Too Many Requests]\n  Rate --\x3e|Yes| LLM[LLM Provider]\n  \n  LLM --\x3e|Response| Backend\n  Backend --\x3e|Log Usage| DB[(Usage Logs)]\n  Backend --\x3e|Stream Response| User\n  \n  style ClientSecurity fill:#f99,stroke:#333,stroke-width:2px\n  style LLM fill:#9f9,stroke:#333,stroke-width:2px\n"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);